"use strict";!function(t){function n(n){n.preventDefault(),t.ajax({url:u,type:"GET"}).done(function(t){t===!0&&(console.log("yoooo"),d=!0,o())})}function e(n){n.preventDefault(),t.ajax({url:l,type:"GET"}).done(function(t){t===!0&&(console.log("zoooo"),d=!1)})}function o(){!function n(){var e=setTimeout(function(){clearTimeout(e),t.ajax({url:r,type:"GET"}).done(function(t){var n=JSON.parse(t);n.forEach(function(t){0===t.EventType&&i(t.Image)})}).always(function(){d&&n()})},50)}()}function i(t){var n="data:image/png;base64,";n+=t;var e=new Image;e.addEventListener("load",function(){c.drawImage(this,0,0,a.width,a.height)},!1),e.src=n}var a,c,u="http://localhost:8089/PPSignSDK/InitialDevice?id=2&width=600&height=400",l="http://localhost:8089/PPSignSDK/UninitialDevice?id=2",r="http://localhost:8089/PPSignSDK/GetInks",d=!1;t("#initBtn").click(n),t("#uninitBtn").click(e),window.onload=function(){a=document.getElementById("ppCanvas"),a.getContext&&(c=a.getContext("2d"))}}(jQuery);